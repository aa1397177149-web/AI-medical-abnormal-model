nohup: ignoring input
2026-01-02 02:08:42,926 - MedicalAI-Backend - INFO - åŠ è½½ Tokenizer: trueto/medbert-base-wwm-chinese
2026-01-02 02:08:44,371 - MedicalAI-Backend - INFO - åˆå§‹åŒ–æ¨¡å‹ç»“æ„
2026-01-02 02:08:45,665 - MedicalAI-Backend - INFO - åŠ è½½æ¨¡å‹æƒé‡: /root/medical/best_medical_model.pth
2026-01-02 02:08:46,319 - MedicalAI-Backend - INFO - æ¨¡å‹åŠ è½½æˆåŠŸ! è®¾å¤‡: cuda
2026-01-02 02:08:46,320 - MedicalAI-Backend - INFO - ==================================================
2026-01-02 02:08:46,321 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨é…ç½®:
2026-01-02 02:08:46,321 - MedicalAI-Backend - INFO -   - ç›‘å¬åœ°å€: 0.0.0.0:6006
2026-01-02 02:08:46,321 - MedicalAI-Backend - INFO -   - è®¾å¤‡: cuda
2026-01-02 02:08:46,321 - MedicalAI-Backend - INFO -   - CORS: å·²å¯ç”¨ (å…è®¸æ‰€æœ‰æ¥æº)
2026-01-02 02:08:46,321 - MedicalAI-Backend - INFO - ==================================================
 * Serving Flask app 'app'
 * Debug mode: off
Address already in use
Port 6006 is in use by another program. Either identify and stop that program, or start the server with a different port.
2026-01-02 23:44:57,178 - MedicalAI-Backend - INFO - åŠ è½½ Tokenizer: trueto/medbert-base-wwm-chinese
2026-01-02 23:44:59,645 - MedicalAI-Backend - INFO - åˆå§‹åŒ–æ¨¡å‹ç»“æ„
2026-01-02 23:45:00,870 - MedicalAI-Backend - ERROR - æ¨¡å‹åŠ è½½å¤±è´¥: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2026-01-02 23:45:00,870 - MedicalAI-Backend - CRITICAL - æ¨¡å‹åŠ è½½å¤±è´¥ï¼ŒæœåŠ¡æ— æ³•å¯åŠ¨: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2026-01-02 23:45:24,395 - MedicalAI-Backend - INFO - åŠ è½½ Tokenizer: trueto/medbert-base-wwm-chinese
2026-01-02 23:45:27,163 - MedicalAI-Backend - INFO - åˆå§‹åŒ–æ¨¡å‹ç»“æ„
2026-01-02 23:45:31,307 - MedicalAI-Backend - INFO - åŠ è½½æ¨¡å‹æƒé‡: /root/medical/best_medical_model.pth
2026-01-02 23:45:31,996 - MedicalAI-Backend - INFO - æ¨¡å‹åŠ è½½æˆåŠŸ! è®¾å¤‡: cuda
2026-01-02 23:45:31,998 - MedicalAI-Backend - INFO - ==================================================
2026-01-02 23:45:31,998 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨é…ç½®:
2026-01-02 23:45:31,998 - MedicalAI-Backend - INFO -   - ç›‘å¬åœ°å€: 0.0.0.0:6006
2026-01-02 23:45:31,998 - MedicalAI-Backend - INFO -   - è®¾å¤‡: cuda
2026-01-02 23:45:31,998 - MedicalAI-Backend - INFO -   - CORS: å·²å¯ç”¨ (å…è®¸æ‰€æœ‰æ¥æº)
2026-01-02 23:45:31,998 - MedicalAI-Backend - INFO - ==================================================
2026-01-02 23:45:32,013 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:6006
 * Running on http://172.17.0.5:6006
2026-01-02 23:45:32,013 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2026-01-02 23:48:02,556 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:48:02] "GET /api/health HTTP/1.1" 200 -
2026-01-02 23:51:08,244 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:51:08] "GET /api/health HTTP/1.1" 200 -
2026-01-02 23:51:08,342 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:51:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2026-01-02 23:51:10,743 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:51:10] "GET / HTTP/1.1" 200 -
2026-01-02 23:51:10,940 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:51:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2026-01-02 23:52:40,379 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:40] "OPTIONS /api/health HTTP/1.1" 200 -
2026-01-02 23:52:40,439 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:40] "GET /api/health HTTP/1.1" 200 -
2026-01-02 23:52:57,288 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "OPTIONS /api/health HTTP/1.1" 200 -
2026-01-02 23:52:57,341 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "GET /api/health HTTP/1.1" 200 -
2026-01-02 23:52:57,400 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "OPTIONS /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:57,455 - MedicalAI-Backend - INFO - æ”¶åˆ°é¢„æµ‹è¯·æ±‚: è„‚è‚ªè‚è‚å†…ä½å›å£°åŒºï¼ˆè¡€ç®¡ç˜¤ï¼Ÿï¼‰èƒ†ã€èƒ°ã€è„¾ã€åŒè‚¾å£°åƒå›¾æœªè§æ˜æ˜¾å¼‚å¸¸...
2026-01-02 23:52:57,682 - MedicalAI-Backend - INFO - é¢„æµ‹å®Œæˆ | è€—æ—¶: 226.39ms | ç»“æœ: review
2026-01-02 23:52:57,683 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "POST /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:57,740 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "OPTIONS /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:57,794 - MedicalAI-Backend - INFO - æ”¶åˆ°é¢„æµ‹è¯·æ±‚: èƒ¸éƒ¨æ‘„ç‰‡æœªè§æ˜æ˜¾å¼‚å¸¸å½±åƒå¾è±¡ã€‚...
2026-01-02 23:52:57,801 - MedicalAI-Backend - INFO - é¢„æµ‹å®Œæˆ | è€—æ—¶: 6.45ms | ç»“æœ: normal
2026-01-02 23:52:57,801 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "POST /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:57,858 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "OPTIONS /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:57,912 - MedicalAI-Backend - INFO - æ”¶åˆ°é¢„æµ‹è¯·æ±‚: 1.çª¦æ€§å¿ƒå¾‹
2.æ­£å¸¸èŒƒå›´å¿ƒç”µå›¾...
2026-01-02 23:52:57,919 - MedicalAI-Backend - INFO - é¢„æµ‹å®Œæˆ | è€—æ—¶: 6.79ms | ç»“æœ: normal
2026-01-02 23:52:57,919 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "POST /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:57,974 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:57] "OPTIONS /api/predict HTTP/1.1" 200 -
2026-01-02 23:52:58,029 - MedicalAI-Backend - INFO - æ”¶åˆ°é¢„æµ‹è¯·æ±‚: è„‚è‚ªè‚è‚å†…ä½å›å£°åŒºï¼ˆè¡€ç®¡ç˜¤ï¼Ÿï¼‰èƒ†ã€èƒ°ã€è„¾ã€åŒè‚¾å£°åƒå›¾æœªè§æ˜æ˜¾å¼‚å¸¸...
2026-01-02 23:52:58,038 - MedicalAI-Backend - INFO - é¢„æµ‹å®Œæˆ | è€—æ—¶: 8.04ms | ç»“æœ: review
2026-01-02 23:52:58,038 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:52:58] "POST /api/predict HTTP/1.1" 200 -
2026-01-02 23:53:10,677 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:53:10] "OPTIONS /api/health HTTP/1.1" 200 -
2026-01-02 23:53:10,748 - werkzeug - INFO - 127.0.0.1 - - [02/Jan/2026 23:53:10] "GET /api/health HTTP/1.1" 200 -
2026-01-03 00:19:35 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:19:40 - MedicalAI-Backend - ERROR - âœ— æ¨¡å‹åŠ è½½å¤±è´¥: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2026-01-03 00:19:40 - MedicalAI-Backend - CRITICAL - å¯åŠ¨å¤±è´¥: æ¨¡å‹åŠ è½½å¤±è´¥: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2026-01-03 00:20:03 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:20:07 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 00:20:07 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 00:20:07 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 00:23:26 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:23:32 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 00:23:32 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 00:23:32 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 00:26:36 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:26:45 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 00:26:45 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 00:26:45 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 00:33:53 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:33:58 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 00:33:59 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 00:33:59 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 00:33:59 - MedicalAI-Backend - INFO - è®¿é—®åœ°å€: http://127.0.0.1:6006
2026-01-03 00:33:59 - MedicalAI-Backend - INFO - å¤–éƒ¨è®¿é—®: http://æœåŠ¡å™¨IP:6006
2026-01-03 00:47:53 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - è®¿é—®åœ°å€: http://127.0.0.1:6006
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - å¤–éƒ¨è®¿é—®: http://æœåŠ¡å™¨IP:6006
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - OllamaæœåŠ¡: http://localhost:11434
2026-01-03 00:48:00 - MedicalAI-Backend - INFO - æ¨¡å‹è·¯å¾„: best_medical_model.pth
2026-01-03 00:52:16 - MedicalAI-Backend - INFO - è½¬å‘Ollamaè¯·æ±‚: model=qwen2.5:7b, prompt_length=2455
2026-01-03 00:52:16 - MedicalAI-Backend - ERROR - Ollamaè¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:52:16 - MedicalAI-Backend - ERROR - æœåŠ¡å¼‚å¸¸: OllamaæœåŠ¡è¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:52:22 - MedicalAI-Backend - INFO - è½¬å‘Ollamaè¯·æ±‚: model=qwen2.5:7b, prompt_length=2455
2026-01-03 00:52:22 - MedicalAI-Backend - ERROR - Ollamaè¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:52:22 - MedicalAI-Backend - ERROR - æœåŠ¡å¼‚å¸¸: OllamaæœåŠ¡è¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:54:39 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - è®¿é—®åœ°å€: http://127.0.0.1:6006
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - å¤–éƒ¨è®¿é—®: http://æœåŠ¡å™¨IP:6006
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - OllamaæœåŠ¡: http://localhost:11434
2026-01-03 00:54:44 - MedicalAI-Backend - INFO - æ¨¡å‹è·¯å¾„: best_medical_model.pth
2026-01-03 00:54:59 - MedicalAI-Backend - INFO - è½¬å‘Ollamaè¯·æ±‚: model=qwen2.5:7b, prompt_length=229
2026-01-03 00:54:59 - MedicalAI-Backend - ERROR - Ollamaè¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:54:59 - MedicalAI-Backend - ERROR - æœåŠ¡å¼‚å¸¸: OllamaæœåŠ¡è¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:56:55 - MedicalAI-Backend - INFO - è½¬å‘Ollamaè¯·æ±‚: model=qwen2.5:7b, prompt_length=481
2026-01-03 00:56:55 - MedicalAI-Backend - ERROR - Ollamaè¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 00:56:55 - MedicalAI-Backend - ERROR - æœåŠ¡å¼‚å¸¸: OllamaæœåŠ¡è¯·æ±‚å¤±è´¥: 404 Client Error: Not Found for url: http://localhost:11434/api/generate
2026-01-03 23:21:50 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 23:23:58 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 23:24:02 - MedicalAI-Backend - ERROR - âœ— æ¨¡å‹åŠ è½½å¤±è´¥: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2026-01-03 23:24:02 - MedicalAI-Backend - CRITICAL - å¯åŠ¨å¤±è´¥: æ¨¡å‹åŠ è½½å¤±è´¥: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2026-01-03 23:24:02 - MedicalAI-Backend - CRITICAL - Traceback (most recent call last):
  File "/root/medical/app.py", line 193, in _load_resources
    self.model = MedicalBertClassifier(config.BERT_MODEL_NAME, num_classes=3)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/medical/app.py", line 151, in __init__
    self.bert = BertModel.from_pretrained(bert_model_name)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/miniconda3/lib/python3.12/site-packages/transformers/modeling_utils.py", line 277, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/miniconda3/lib/python3.12/site-packages/transformers/modeling_utils.py", line 5048, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/miniconda3/lib/python3.12/site-packages/transformers/modeling_utils.py", line 5316, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/miniconda3/lib/python3.12/site-packages/transformers/modeling_utils.py", line 508, in load_state_dict
    check_torch_load_is_safe()
  File "/root/miniconda3/lib/python3.12/site-packages/transformers/utils/import_utils.py", line 1647, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/medical/app.py", line 488, in <module>
    flask_app.initialize_model()
  File "/root/medical/app.py", line 468, in initialize_model
    self.model_service = ModelService()
                         ^^^^^^^^^^^^^^
  File "/root/medical/app.py", line 185, in __init__
    self._load_resources()
  File "/root/medical/app.py", line 211, in _load_resources
    raise ModelException(f"æ¨¡å‹åŠ è½½å¤±è´¥: {str(e)}")
ModelException: æ¨¡å‹åŠ è½½å¤±è´¥: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

2026-01-03 23:24:32 - MedicalAI-Backend - INFO - å¼€å§‹åŠ è½½æ¨¡å‹èµ„æº...
2026-01-03 23:24:36 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æƒé‡åŠ è½½æˆåŠŸ
2026-01-03 23:24:37 - MedicalAI-Backend - INFO - âœ“ æ¨¡å‹æœåŠ¡å°±ç»ª! è®¾å¤‡: cuda
2026-01-03 23:24:37 - MedicalAI-Backend - INFO - æœåŠ¡å¯åŠ¨åœ¨: 0.0.0.0:6006
2026-01-03 23:24:37 - MedicalAI-Backend - INFO - è®¿é—®åœ°å€: http://127.0.0.1:6006
2026-01-03 23:24:37 - MedicalAI-Backend - INFO - å¤–éƒ¨è®¿é—®: http://æœåŠ¡å™¨IP:6006
2026-01-03 23:24:37 - MedicalAI-Backend - INFO - OllamaæœåŠ¡: http://localhost:11434
2026-01-03 23:24:37 - MedicalAI-Backend - INFO - æ¨¡å‹è·¯å¾„: best_medical_model.pth
